<!-- pages/index/index.wxml -->
<view class="container">
  <!-- å¤´éƒ¨ -->
  <view class="header"></view>

  <!-- æ´»åŠ¨ç­›é€‰tab -->
  <view class="event-tabs">
    <view class="tab-item {{activeTab === 'upcoming' ? 'active' : ''}}" data-tab="upcoming" bindtap="switchTab">ä¸´è¿‘æ´»åŠ¨</view>
    <view class="tab-item {{activeTab === 'past' ? 'active' : ''}}" data-tab="past" bindtap="switchTab">è¿‡å¾€æ´»åŠ¨</view>
  </view>

  <!-- äº‹ä»¶åˆ—è¡¨ -->
  <view class="events-list">
    <block wx:if="{{activeTab === 'upcoming' && upcomingEvents.length > 0}}">
      <view 
        wx:for="{{upcomingEvents}}" 
        wx:key="id" 
        class="event-card" 
        bindtap="goToEvent" 
        data-id="{{item.id}}"
        style="background: {{item.background}}"
      >
        <view class="event-content">
          <view class="event-title">{{item.title}}</view>
          <view class="event-details">
            <view class="event-detail">
              <text class="event-icon">ğŸ“…</text>
              <text>{{item.date}}</text>
            </view>
            <view class="event-detail">
              <text class="event-icon">ğŸ“</text>
              <text>{{item.location}}</text>
            </view>
          </view>
        </view>
      </view>
    </block>
    <block wx:if="{{activeTab === 'past' && pastEvents.length > 0}}">
      <view 
        wx:for="{{pastEvents}}" 
        wx:key="id" 
        class="event-card" 
        bindtap="goToEvent" 
        data-id="{{item.id}}"
        style="background: {{item.background}}"
      >
        <view class="event-content">
          <view class="event-title">{{item.title}}</view>
          <view class="event-details">
            <view class="event-detail">
              <text class="event-icon">ğŸ“…</text>
              <text>{{item.date}}</text>
            </view>
            <view class="event-detail">
              <text class="event-icon">ğŸ“</text>
              <text>{{item.location}}</text>
            </view>
          </view>
        </view>
      </view>
    </block>
    <block wx:if="{{(activeTab === 'upcoming' && upcomingEvents.length === 0) || (activeTab === 'past' && pastEvents.length === 0)}}">
      <view class="empty-state">
        <text>æš‚æ— æ´»åŠ¨</text>
        <text>ç‚¹å‡»å³ä¸‹è§’"+"åˆ›å»ºæ–°æ´»åŠ¨</text>
      </view>
    </block>
  </view>

  <!-- å³ä¸‹è§’æ‚¬æµ®åˆ›å»ºæŒ‰é’® -->
  <view class="fab-create-btn" bindtap="createEvent">+</view>
</view>